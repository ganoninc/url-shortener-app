/* tslint:disable */
/* eslint-disable */
/**
 * Vite URL Shortener - Analytics Service
 * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)
 *
 * The version of the OpenAPI document: 1.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import type { Configuration } from './configuration';
import type { AxiosPromise, AxiosInstance, RawAxiosRequestConfig } from 'axios';
import globalAxios from 'axios';
// Some imports not used depending on template conditions
// @ts-ignore
import { DUMMY_BASE_URL, assertParamExists, setApiKeyToObject, setBasicAuthToObject, setBearerAuthToObject, setOAuthToObject, setSearchParams, serializeDataIfNeeded, toPathString, createRequestFunction } from './common';
import type { RequestArgs } from './base';
// @ts-ignore
import { BASE_PATH, COLLECTION_FORMATS, BaseAPI, RequiredError, operationServerMap } from './base';

/**
 * Represents a single click event associated with a shortened URL
 * @export
 * @interface ClickEventDTO
 */
export interface ClickEventDTO {
    /**
     * Unique database identifier for the click event
     * @type {number}
     * @memberof ClickEventDTO
     */
    'id': number;
    /**
     * When the click occurred (UTC)
     * @type {string}
     * @memberof ClickEventDTO
     */
    'timestamp': string;
    /**
     * User agent string of the requester
     * @type {string}
     * @memberof ClickEventDTO
     */
    'userAgent': string;
}
/**
 * Cursor-paginated window of click events for this short URL. This list contains only the events included in the current slice, ordered from newest to oldest. The number of items is limited by the requested page size. Use nextCursor in the PaginatedSlice to retrieve the following window of events. 
 * @export
 * @interface PaginatedSliceClickEventDTOString
 */
export interface PaginatedSliceClickEventDTOString {
    /**
     * Items returned in this cursor slice. This list represents only a window of the full dataset, limited by the requested page size, and ordered consistently according to the APIâ€™s contract. 
     * @type {Array<ClickEventDTO>}
     * @memberof PaginatedSliceClickEventDTOString
     */
    'items'?: Array<ClickEventDTO>;
    /**
     * Cursor pointing to the next slice. Null when no additional items are available. Clients should pass this cursor to retrieve the following page. 
     * @type {string}
     * @memberof PaginatedSliceClickEventDTOString
     */
    'nextCursor'?: string;
}
/**
 * Aggregated statistics for a shortened URL, including total clicks and event history
 * @export
 * @interface ShortUrlClickEventsDTO
 */
export interface ShortUrlClickEventsDTO {
    /**
     * Total number of recorded clicks
     * @type {number}
     * @memberof ShortUrlClickEventsDTO
     */
    'totalClicks': number;
    /**
     * 
     * @type {PaginatedSliceClickEventDTOString}
     * @memberof ShortUrlClickEventsDTO
     */
    'events': PaginatedSliceClickEventDTOString;
}

/**
 * AnalyticsControllerApi - axios parameter creator
 * @export
 */
export const AnalyticsControllerApiAxiosParamCreator = function (configuration?: Configuration) {
    return {
        /**
         * 
         * @param {string} shortId 
         * @param {string} [cursor] 
         * @param {number} [size] 
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        getClickEvents: async (shortId: string, cursor?: string, size?: number, options: RawAxiosRequestConfig = {}): Promise<RequestArgs> => {
            // verify required parameter 'shortId' is not null or undefined
            assertParamExists('getClickEvents', 'shortId', shortId)
            const localVarPath = `/short-url/{shortId}`
                .replace(`{${"shortId"}}`, encodeURIComponent(String(shortId)));
            // use dummy base URL string because the URL constructor only accepts absolute URLs.
            const localVarUrlObj = new URL(localVarPath, DUMMY_BASE_URL);
            let baseOptions;
            if (configuration) {
                baseOptions = configuration.baseOptions;
            }

            const localVarRequestOptions = { method: 'GET', ...baseOptions, ...options};
            const localVarHeaderParameter = {} as any;
            const localVarQueryParameter = {} as any;

            // authentication bearerAuth required
            // http bearer authentication required
            await setBearerAuthToObject(localVarHeaderParameter, configuration)

            if (cursor !== undefined) {
                localVarQueryParameter['cursor'] = cursor;
            }

            if (size !== undefined) {
                localVarQueryParameter['size'] = size;
            }


    
            setSearchParams(localVarUrlObj, localVarQueryParameter);
            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
            localVarRequestOptions.headers = {...localVarHeaderParameter, ...headersFromBaseOptions, ...options.headers};

            return {
                url: toPathString(localVarUrlObj),
                options: localVarRequestOptions,
            };
        },
    }
};

/**
 * AnalyticsControllerApi - functional programming interface
 * @export
 */
export const AnalyticsControllerApiFp = function(configuration?: Configuration) {
    const localVarAxiosParamCreator = AnalyticsControllerApiAxiosParamCreator(configuration)
    return {
        /**
         * 
         * @param {string} shortId 
         * @param {string} [cursor] 
         * @param {number} [size] 
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        async getClickEvents(shortId: string, cursor?: string, size?: number, options?: RawAxiosRequestConfig): Promise<(axios?: AxiosInstance, basePath?: string) => AxiosPromise<ShortUrlClickEventsDTO>> {
            const localVarAxiosArgs = await localVarAxiosParamCreator.getClickEvents(shortId, cursor, size, options);
            const localVarOperationServerIndex = configuration?.serverIndex ?? 0;
            const localVarOperationServerBasePath = operationServerMap['AnalyticsControllerApi.getClickEvents']?.[localVarOperationServerIndex]?.url;
            return (axios, basePath) => createRequestFunction(localVarAxiosArgs, globalAxios, BASE_PATH, configuration)(axios, localVarOperationServerBasePath || basePath);
        },
    }
};

/**
 * AnalyticsControllerApi - factory interface
 * @export
 */
export const AnalyticsControllerApiFactory = function (configuration?: Configuration, basePath?: string, axios?: AxiosInstance) {
    const localVarFp = AnalyticsControllerApiFp(configuration)
    return {
        /**
         * 
         * @param {string} shortId 
         * @param {string} [cursor] 
         * @param {number} [size] 
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        getClickEvents(shortId: string, cursor?: string, size?: number, options?: RawAxiosRequestConfig): AxiosPromise<ShortUrlClickEventsDTO> {
            return localVarFp.getClickEvents(shortId, cursor, size, options).then((request) => request(axios, basePath));
        },
    };
};

/**
 * AnalyticsControllerApi - object-oriented interface
 * @export
 * @class AnalyticsControllerApi
 * @extends {BaseAPI}
 */
export class AnalyticsControllerApi extends BaseAPI {
    /**
     * 
     * @param {string} shortId 
     * @param {string} [cursor] 
     * @param {number} [size] 
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof AnalyticsControllerApi
     */
    public getClickEvents(shortId: string, cursor?: string, size?: number, options?: RawAxiosRequestConfig) {
        return AnalyticsControllerApiFp(this.configuration).getClickEvents(shortId, cursor, size, options).then((request) => request(this.axios, this.basePath));
    }
}



